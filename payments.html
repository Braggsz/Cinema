<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      @import url(https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700|Open+Sans:400,300,600);
* {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}

body {
  font-family: 'open sans', helvetica, arial, sans;
  background-size: cover;
}

.log-form {
  width: 40%;
  min-width: 320px;
  max-width: 475px;
  background: #fff;
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  -webkit-box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.25);
          box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.25);
}

.log-form form {
  display: block;
  width: 100%;
  padding: 2em;
}

.log-form h2 {
  text-align: center;
  width: 100%;
  color: #5d5d5d;
  font-family: 'open sans condensed';
  font-size: 1.35em;
  display: block;
  background: #2a2a2a;
  width: 100%;
  text-transform: uppercase;
  padding: .75em 1em .75em 1.5em;
  -webkit-box-shadow: inset 0px 1px 1px fadeout(white, 95%);
          box-shadow: inset 0px 1px 1px fadeout(white, 95%);
  border: 1px solid #1d1d1d;
  margin: 0;
  font-weight: 200;
}

.log-form input {
  border-radius: 10px;
  display: block;
  margin: auto auto;
  width: 100%;
  margin-bottom: 2em;
  padding: .5em 0;
  border: none;
  border-bottom: 1px solid #eaeaea;
  padding-bottom: 1.25em;
  color: #757575;
}

.log-form input:focus {
  outline: none;
}

.log-form .btn {
  border-radius: 15px;
  display: inline-block;
  background: #1fb5bf;
  border: 1px solid #1ba0a9;
  padding: .5em 2em;
  color: white;
  margin-right: .5em;
  -webkit-box-shadow: inset 0px 1px 0px fadeout(white, 80%);
          box-shadow: inset 0px 1px 0px fadeout(white, 80%);
}

.log-form .btn:hover {
  background: #23cad5;
}

.log-form .btn:active {
  background: #1fb5bf;
  -webkit-box-shadow: inset 0px 1px 1px fadeout(black, 90%);
          box-shadow: inset 0px 1px 1px fadeout(black, 90%);
}

.log-form .btn:focus {
  outline: none;
}

.log-form .forgot {
  color: #33d3de;
  line-height: .5em;
  position: relative;
  top: 2.5em;
  text-decoration: none;
  font-size: .75em;
  margin: 0;
  padding: 0;
  float: right;
}

.log-form .forgot:hover {
  color: #1ba0a9;
}
/*# sourceMappingURL=main.css.map */
    </style>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400' rel='stylesheet' type='text/css'>
    
</head>
<body>
<div class="container">
    <div class="log-form">
        <h2>–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏</h2>
        <form class="telegram-form" id="telegramForm">
          <input type="text" name="name" placeholder="–ò–º—è" autocomplete="off" required />
          <input type="text" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" autocomplete="off" required />
          <input type="text" name="email" placeholder="Email" autocomplete="off" required />
          <textarea placeholder="–ü—Ä–æ–º–æ–∫–æ–¥" name="text"></textarea>
          <input type="file" name="file" accept="image/*">
          <button type="submit" class="btn">–æ—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </form>
      
      </div>
</div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
    const TOKEN = '7039961825:AAGmyb-lFESj2INpi81JWQAV9kgZwPBtJSU';
    const CHAT_ID = '-1002294474126';
    const URI_API_MESSAGE = `https://api.telegram.org/bot${TOKEN}/sendMessage`;
    const URI_API_PHOTO = `https://api.telegram.org/bot${TOKEN}/sendPhoto`;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–¥–¥.–º–º.–≥–≥–≥–≥ | —á—á:–º–º"
    function getCurrentDateTime() {
        const now = new Date();
        const day = String(now.getDate()).padStart(2, '0');
        const month = String(now.getMonth() + 1).padStart(2, '0'); // –ú–µ—Å—è—Ü—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 0
        const year = now.getFullYear();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        return `${day}.${month}.${year} | ${hours}:${minutes}`;
    }

    document.getElementById('telegramForm').addEventListener('submit', function (event) {
        event.preventDefault();

        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
        const name = this.name.value;
        const phone = this.phone.value;
        const email = this.email.value;
        const text = this.text.value;
        const fileInput = this.file.files[0]; // –ü–æ–ª—É—á–∞–µ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª

        // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è
        const currentDateTime = getCurrentDateTime();

        // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º
        const textMessage = `
            üìù <b>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞</b>\n
            üóì <b>–î–∞—Ç–∞:</b> ${currentDateTime}\n
            üë§ <b>–ò–º—è:</b> <i>${name}</i>\n
            üìû <b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> <i>${phone}</i>\n
            üìß <b>Email:</b> <i>${email}</i>\n
            üíº <b>–û—Ç :</b> <i>${text}</i>\n
        `;

        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
        fetch(URI_API_MESSAGE, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                chat_id: CHAT_ID,
                parse_mode: 'html',
                text: textMessage,
            })
        })
        .then(response => response.json())
        .then(data => {
            if (fileInput) {
                // –ï—Å–ª–∏ —Ñ–∞–π–ª –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ
                const formData = new FormData();
                formData.append('chat_id', CHAT_ID);
                formData.append('photo', fileInput); // –ü—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º —Ñ–æ—Ç–æ

                fetch(URI_API_PHOTO, {
                    method: 'POST',
                    body: formData
                })
                .then(() => alert('–ö–≤–∏—Ç–∞–Ω—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!'))
                .catch(error => console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ç–æ:', error));
            } else {
                alert('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –±–µ–∑ —Ñ–æ—Ç–æ!');
            }
        })
        .catch(error => console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏:', error))
        .finally(() => this.reset()); // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
    });
});

    </script>
    
</body>
</html>
